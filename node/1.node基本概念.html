<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.node 基本概念 | 运维及前端知识整理</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="文件上传组件 vue文件上传 多文件上传">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.19024b16.js" as="script"><link rel="preload" href="/blog/assets/js/2.4ac9db42.js" as="script"><link rel="preload" href="/blog/assets/js/14.7aec61b2.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.5f05e4bc.js"><link rel="prefetch" href="/blog/assets/js/11.8cbb3676.js"><link rel="prefetch" href="/blog/assets/js/12.03608f82.js"><link rel="prefetch" href="/blog/assets/js/13.ae31a07d.js"><link rel="prefetch" href="/blog/assets/js/15.3f8cc38f.js"><link rel="prefetch" href="/blog/assets/js/16.8b056a43.js"><link rel="prefetch" href="/blog/assets/js/17.6ca74702.js"><link rel="prefetch" href="/blog/assets/js/18.3945b18f.js"><link rel="prefetch" href="/blog/assets/js/19.5557b8cb.js"><link rel="prefetch" href="/blog/assets/js/20.4e7c7796.js"><link rel="prefetch" href="/blog/assets/js/21.1bf71de7.js"><link rel="prefetch" href="/blog/assets/js/22.29548e90.js"><link rel="prefetch" href="/blog/assets/js/23.add44d64.js"><link rel="prefetch" href="/blog/assets/js/24.80bde89b.js"><link rel="prefetch" href="/blog/assets/js/25.78d90620.js"><link rel="prefetch" href="/blog/assets/js/26.99827223.js"><link rel="prefetch" href="/blog/assets/js/27.2f512229.js"><link rel="prefetch" href="/blog/assets/js/28.01e7809a.js"><link rel="prefetch" href="/blog/assets/js/29.af9a8e11.js"><link rel="prefetch" href="/blog/assets/js/3.74a85236.js"><link rel="prefetch" href="/blog/assets/js/30.babf68d7.js"><link rel="prefetch" href="/blog/assets/js/31.38c5f139.js"><link rel="prefetch" href="/blog/assets/js/32.dd33678a.js"><link rel="prefetch" href="/blog/assets/js/33.c1d3c72b.js"><link rel="prefetch" href="/blog/assets/js/34.1d0d9a52.js"><link rel="prefetch" href="/blog/assets/js/35.7a2d7357.js"><link rel="prefetch" href="/blog/assets/js/36.ce9b60b3.js"><link rel="prefetch" href="/blog/assets/js/37.0da3ad1b.js"><link rel="prefetch" href="/blog/assets/js/38.ec9f441a.js"><link rel="prefetch" href="/blog/assets/js/39.854305ce.js"><link rel="prefetch" href="/blog/assets/js/4.04976430.js"><link rel="prefetch" href="/blog/assets/js/40.bfabdfdf.js"><link rel="prefetch" href="/blog/assets/js/41.48544c6e.js"><link rel="prefetch" href="/blog/assets/js/42.4738b895.js"><link rel="prefetch" href="/blog/assets/js/43.1b23e6fd.js"><link rel="prefetch" href="/blog/assets/js/44.c06f5d4c.js"><link rel="prefetch" href="/blog/assets/js/45.bd44d57e.js"><link rel="prefetch" href="/blog/assets/js/46.5d7a06da.js"><link rel="prefetch" href="/blog/assets/js/47.28a3484a.js"><link rel="prefetch" href="/blog/assets/js/48.cbf61cca.js"><link rel="prefetch" href="/blog/assets/js/49.46876c92.js"><link rel="prefetch" href="/blog/assets/js/5.d735502a.js"><link rel="prefetch" href="/blog/assets/js/50.7fc2c3ce.js"><link rel="prefetch" href="/blog/assets/js/51.7a88a24e.js"><link rel="prefetch" href="/blog/assets/js/52.4f09d156.js"><link rel="prefetch" href="/blog/assets/js/53.7ed4e828.js"><link rel="prefetch" href="/blog/assets/js/54.5ce05f50.js"><link rel="prefetch" href="/blog/assets/js/55.1a31bf87.js"><link rel="prefetch" href="/blog/assets/js/56.a78058d3.js"><link rel="prefetch" href="/blog/assets/js/57.afb7f5a3.js"><link rel="prefetch" href="/blog/assets/js/58.d21c783d.js"><link rel="prefetch" href="/blog/assets/js/59.23dc99cf.js"><link rel="prefetch" href="/blog/assets/js/6.da78d201.js"><link rel="prefetch" href="/blog/assets/js/60.5500c9dc.js"><link rel="prefetch" href="/blog/assets/js/61.822c2676.js"><link rel="prefetch" href="/blog/assets/js/62.30cce9e7.js"><link rel="prefetch" href="/blog/assets/js/63.4dfcb47c.js"><link rel="prefetch" href="/blog/assets/js/64.b76d89c0.js"><link rel="prefetch" href="/blog/assets/js/65.6491f519.js"><link rel="prefetch" href="/blog/assets/js/66.50af43d6.js"><link rel="prefetch" href="/blog/assets/js/7.bdc92cc3.js"><link rel="prefetch" href="/blog/assets/js/8.ac4ddad8.js"><link rel="prefetch" href="/blog/assets/js/9.2cd3555e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">运维及前端知识整理</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jenkins</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mac Book</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Node</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/node/1.node基本概念.html" class="active sidebar-link">1.node 基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-1-一-node-是什么" class="sidebar-link">1.1 一.Node 是什么?</a></li><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-2-node-解决了哪些问题" class="sidebar-link">1.2 .Node 解决了哪些问题?</a></li><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-3-js-单线程" class="sidebar-link">1.3 JS 单线程</a></li><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-4-同步异步和阻塞非阻塞" class="sidebar-link">1.4 同步异步和阻塞非阻塞</a></li><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-5-node-中的-event-loop" class="sidebar-link">1.5 Node 中的 Event Loop</a></li><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-6-node中全局对象" class="sidebar-link">1.6 Node中全局对象</a></li><li class="sidebar-sub-header"><a href="/blog/node/1.node基本概念.html#_1-7-node中的模块" class="sidebar-link">1.7 node中的模块</a></li></ul></li><li><a href="/blog/node/2.node中的模块.html" class="sidebar-link">2.Node中的模块</a></li><li><a href="/blog/node/3.npm中常用的命令.html" class="sidebar-link">3.NPM 中常用命令</a></li><li><a href="/blog/node/4.http.html" class="sidebar-link">4.HTTP</a></li><li><a href="/blog/node/5.http在header中的应用.html" class="sidebar-link">5.HTTP 在 Header 中的应用</a></li><li><a href="/blog/node/6.Express应用+原理.html" class="sidebar-link">6.Express 应用+原理</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Shell</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vi</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-node-基本概念"><a href="#_1-node-基本概念" class="header-anchor">#</a> 1.node 基本概念</h1> <h2 id="_1-1-一-node-是什么"><a href="#_1-1-一-node-是什么" class="header-anchor">#</a> 1.1 一.Node 是什么?</h2> <p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境(runtime),Node 不是一门语言是让 js 运行在后端的运行时,并且不包括 javascript 全集,因为在服务端中不包含 DOM 和 BOM,Node 也提供了一些新的模块例如 http,fs 模块等。Node.js 使用了事件驱动、非阻塞式 I/O 的模型，使其轻量又高效并且 Node.js 的包管理器 npm，是全球最大的开源库生态系统。事件驱动与非阻塞 IO 后面我们会一一介绍。到此我们已经对 node 有了简单的概念。</p> <h2 id="_1-2-node-解决了哪些问题"><a href="#_1-2-node-解决了哪些问题" class="header-anchor">#</a> 1.2 .Node 解决了哪些问题?</h2> <p>Node 在处理高并发,I/O 密集场景有明显的性能优势</p> <ul><li>高并发,是指在同一时间并发访问服务器</li> <li>I/O 密集指的是文件操作、网络操作、数据库,相对的有 CPU 密集,CPU 密集指的是逻辑处理运算、压缩、解压、加密、解密</li></ul> <blockquote><p>Web 主要场景就是接收客户端的请求读取静态资源和渲染界面,所以 Node 非常适合 Web 应用的开发。</p></blockquote> <h2 id="_1-3-js-单线程"><a href="#_1-3-js-单线程" class="header-anchor">#</a> 1.3 JS 单线程</h2> <p>javascript 在最初设计时设计成了单线程,为什么不是多线程呢？如果多个线程同时操作 DOM 那岂不会很混乱？这里所谓的单线程指的是主线程是单线程的,所以在 Node 中主线程依旧是单线程的。</p> <ul><li>单线程特点是节约了内存,并且不需要在切换执行上下文</li> <li>而且单线程不需要管锁的问题.</li></ul> <h2 id="_1-4-同步异步和阻塞非阻塞"><a href="#_1-4-同步异步和阻塞非阻塞" class="header-anchor">#</a> 1.4 同步异步和阻塞非阻塞</h2> <p><img src="/blog/assets/img/1.1a033437.png" alt="效果图" title="效果图"></p> <h2 id="_1-5-node-中的-event-loop"><a href="#_1-5-node-中的-event-loop" class="header-anchor">#</a> 1.5 Node 中的 Event Loop</h2> <p><img src="/blog/assets/img/2.4f572942.png" alt="效果图" title="效果图"></p> <ul><li>1.我们写的js代码会交给v8引擎进行处理</li> <li>2.代码中可能会调用nodeApi,node会交给libuv库处理</li> <li>3.libuv通过阻塞i/o和多线程实现了异步io</li> <li>4.通过事件驱动的方式,将结果放到事件队列中,最终交给我们的应用。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    本阶段执行已经被 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 的调度回调函数。
   ┌───────────────────────────┐
┌─<span class="token operator">&gt;</span>│           timers          │ 
│  └─────────────┬─────────────┘
<span class="token operator">|</span>   执行延迟到下一个循环迭代的 <span class="token constant">I</span><span class="token operator">/</span><span class="token constant">O</span> 回调。
│  ┌─────────────┴─────────────┐
│  │     pending callbacks     │
│  └─────────────┬─────────────┘
<span class="token operator">|</span>   仅系统内部使用。
│  ┌─────────────┴─────────────┐
│  │       idle<span class="token punctuation">,</span> prepare       │
│  └─────────────┬─────────────┘      
<span class="token operator">|</span>  检索新的<span class="token constant">I</span><span class="token operator">/</span><span class="token constant">O</span>事件<span class="token punctuation">;</span>执行与 <span class="token constant">I</span><span class="token operator">/</span><span class="token constant">O</span>相关的回调  ┌───────────────┐
│  ┌─────────────┴─────────────┐      │   incoming<span class="token operator">:</span>   │
│  │           poll            │<span class="token operator">&lt;</span>─────┤  connections<span class="token punctuation">,</span> │
│  └─────────────┬─────────────┘      │   data<span class="token punctuation">,</span> etc<span class="token punctuation">.</span>  │
│  <span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 回调函数在这里执行。  └───────────────┘
│  ┌─────────────┴─────────────┐      
│  │           check           │
│  └─────────────┬─────────────┘
<span class="token operator">|</span>  一些关闭的回调函数
│  ┌─────────────┴─────────────┐
└──┤      close callbacks      │
   └───────────────────────────┘
</code></pre></div><blockquote><p>这里每一个阶段都对应一个事件队列,当event loop执行到某个阶段时会将当前阶段对应的队列依次执行。当该队列已用尽或达到回调限制，事件循环将移动到下一阶段</p></blockquote> <blockquote><p><code>process.nextTick()</code> 从技术上讲不是事件循环的一部分.</p></blockquote> <h2 id="_1-6-node中全局对象"><a href="#_1-6-node中全局对象" class="header-anchor">#</a> 1.6 Node中全局对象</h2> <ul><li>Buffer</li> <li>process</li> <li>setInterval,setTimeout,setImmediate</li> <li>console</li> <li>queueMicrotask</li></ul> <h2 id="_1-7-node中的模块"><a href="#_1-7-node中的模块" class="header-anchor">#</a> 1.7 node中的模块</h2> <ul><li>__dirname</li> <li>__filename</li> <li>exports</li> <li>module</li> <li>require()</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/macBook/7.安装 iterm2（终端）.html" class="prev">
        7.安装 iterm2（终端）
      </a></span> <span class="next"><a href="/blog/node/2.node中的模块.html">
        2.Node中的模块
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.19024b16.js" defer></script><script src="/blog/assets/js/2.4ac9db42.js" defer></script><script src="/blog/assets/js/14.7aec61b2.js" defer></script>
  </body>
</html>
