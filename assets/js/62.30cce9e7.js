(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{456:function(t,_,a){"use strict";a.r(_);var v=a(41),r=Object(v.a)({},(function(){var t=this,_=t.$createElement,a=t._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_5-正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-正则表达式"}},[t._v("#")]),t._v(" 5.正则表达式")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://regexper.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("regexper"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"_5-1-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-概念"}},[t._v("#")]),t._v(" 5.1 概念")]),t._v(" "),a("ul",[a("li",[t._v("正则表达式是用于描述字符排列和匹配模式的一种语法规则")]),t._v(" "),a("li",[t._v("它主要用于字符串的模式分割、匹配查找及替换操作")])]),t._v(" "),a("h2",{attrs:{id:"_5-2-通配符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-通配符"}},[t._v("#")]),t._v(" 5.2 通配符")]),t._v(" "),a("ul",[a("li",[t._v("通配符用来匹配符合条件的文件名，通配符是完全匹配。")]),t._v(" "),a("li",[t._v("ls find 这些命令不支持正则，只能使用通配符")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("符号")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("?")]),t._v(" "),a("td",[t._v("匹配任意一个字符")])]),t._v(" "),a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",[t._v("匹配任意多个字符")])]),t._v(" "),a("tr",[a("td",[t._v("[]")]),t._v(" "),a("td",[t._v("匹配中括号中范围内的一个字符")])])])]),t._v(" "),a("h2",{attrs:{id:"_5-3-正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-正则表达式"}},[t._v("#")]),t._v(" 5.3 正则表达式")]),t._v(" "),a("ul",[a("li",[t._v("正则表达式是用来在文件中匹配符合条件的字符串，是包含匹配。")]),t._v(" "),a("li",[t._v("grep awk sed 等都可以支持正则表达式")])]),t._v(" "),a("h2",{attrs:{id:"_5-5-元字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-元字符"}},[t._v("#")]),t._v(" 5.5 元字符")]),t._v(" "),a("p",[a("code",[t._v("alias grep='grep --color=auto'")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("元字符")]),t._v(" "),a("th",[t._v("作用")]),t._v(" "),a("th",[t._v("示例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",[t._v("前一个字符匹配 0 次或任意多次")]),t._v(" "),a("td",[t._v("grep 1* reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v(".")]),t._v(" "),a("td",[t._v("匹配除换行符外的任意一个字符")]),t._v(" "),a("td",[t._v("grep . reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v("^")]),t._v(" "),a("td",[t._v("匹配行首。例如，^hello 会匹配以 hello 开头的行")]),t._v(" "),a("td",[t._v("grep ^a reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v("$")]),t._v(" "),a("td",[t._v("匹配行尾。例如，hello& 会匹配以 hello 结尾的行")]),t._v(" "),a("td",[t._v("grep a$ reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v("[]")]),t._v(" "),a("td",[t._v("匹配屮柄号屮指定的任意一个字符，而且只匹配一个字符。例如.[aoeiu]匹配任意一个元音字母,[0-9] 匹配任意一位数字,[a-z][0-9]匹配由小写字母和一位数字构成的两位字符")]),t._v(" "),a("td",[t._v("grep ab[bc]c reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v("[^]")]),t._v(" "),a("td",[t._v("匹配除中括号中的字符以外的任意一个字符。例如，[^0-9] 匹配任意一位非数字字符,[^a-z] 匹配任意一位非小写字母")]),t._v(" "),a("td",[t._v("grep a[^fg]c reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v("\\")]),t._v(" "),a("td",[t._v("转义符，用于取消特殊符号的含义")]),t._v(" "),a("td",[t._v("grep \\.$ reg.txt")])]),t._v(" "),a("tr",[a("td",[t._v("{n}")]),t._v(" "),a("td",[t._v("表示其前面的字符恰好出现 n 次。例如，[0-9]{5} 匹配 5 位数字，[1][3-8][0-9]{9} 匹配手机号码")]),t._v(" "),a("td",[t._v('grep "a{1}" reg.txt')])]),t._v(" "),a("tr",[a("td",[t._v("{n,}")]),t._v(" "),a("td",[t._v("表示其前面的字符出现不少于 n 次。例如，[0-9]{2,} 匹配两位及以上的数字")]),t._v(" "),a("td",[t._v('grep "a{1,}" reg.txt')])]),t._v(" "),a("tr",[a("td",[t._v("{n,m}")]),t._v(" "),a("td",[t._v("表示其前面的字符至少出现 n 次，最多出现 m 次。例如，[a-z]{6,8} 匹配 6〜8 位的小写字母")]),t._v(" "),a("td",[t._v('grep "a{2,3}" reg.txt')])])])]),t._v(" "),a("h2",{attrs:{id:"_5-5-cut"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-cut"}},[t._v("#")]),t._v(" 5.5 cut")]),t._v(" "),a("ul",[a("li",[t._v("cut 用来提取文本中的某一部分文本")]),t._v(" "),a("li",[t._v("cut [选项] 文件名\n"),a("ul",[a("li",[t._v("-f 列号，用来指定要提取的列")]),t._v(" "),a("li",[t._v("-d 分隔符，按照指定分隔符分割列,默认分隔符是 TAB 制表符")])])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("at /etc/passwd | grep /bin/bash | cut -f 1,2 -d :\n\ndf -h | grep /dev/sda5 | cut -f 5\n")])])]),a("h2",{attrs:{id:"_5-6-printf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-printf"}},[t._v("#")]),t._v(" 5.6 printf")]),t._v(" "),a("ul",[a("li",[t._v("按规定格式输出")]),t._v(" "),a("li",[t._v("printf 输出类型 输出内容")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("%ns")]),t._v(" "),a("td",[t._v("输出字符串,n 是数字指代输出几个字符")])]),t._v(" "),a("tr",[a("td",[t._v("%ni")]),t._v(" "),a("td",[t._v("输出整数,n 是指输出几个数字")])]),t._v(" "),a("tr",[a("td",[t._v("%m.nf")]),t._v(" "),a("td",[t._v("输出浮点数,m 和 n 是数字，指代输出的整数位数和小数位数，如%6.2f 代表输出 6 位位，2 位小数，5 位整数")])])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('printf "%s\\t%s\\t%s\\t%s\\t%s\\t\\%s\\n" $(df -h | grep /dev/sda5) | cut -f 5\n')])])]),a("h2",{attrs:{id:"_5-7-awk-1-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-awk-1-8"}},[t._v("#")]),t._v(" 5.7 awk(1-8)")]),t._v(" "),a("ul",[a("li",[t._v("awk '条件 1{动作 1} 条件 2{动作 2}...' 文件名")]),t._v(" "),a("li",[t._v("条件(Pattern)\n"),a("ul",[a("li",[t._v("一般使用关系表达式作为条件")]),t._v(" "),a("li",[t._v("x > 10 判断变量 x 是否大于 10")]),t._v(" "),a("li",[t._v("x >=10 大于等于")]),t._v(" "),a("li",[t._v("x <=10 小于等于")])])]),t._v(" "),a("li",[t._v("动作(Action)\n"),a("ul",[a("li",[t._v("格式化输出")])])]),t._v(" "),a("li",[t._v("$0 整行 $1 第一列...")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" df -h | grep /dev/sda5 |awk '{print $5}'| cut -d '%' -f 1\n")])])]),a("h2",{attrs:{id:"_5-7-1-begin-end"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-1-begin-end"}},[t._v("#")]),t._v(" 5.7.1 begin end")]),t._v(" "),a("ul",[a("li",[t._v("awk 可以正确截取制表符和空格")]),t._v(" "),a("li",[t._v("begin 在所有的输出之前打印")]),t._v(" "),a("li",[t._v("end 在所有的输出之后打印")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('awk \'BEGIN{print "开始"}END{print "结束"}\' numbers.txt\n')])])]),a("h2",{attrs:{id:"_5-7-2-fs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-2-fs"}},[t._v("#")]),t._v(" 5.7.2 FS")]),t._v(" "),a("ul",[a("li",[t._v("Field Separator，字段分隔符")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('awk \'BEGIN{FS=":"}{print $1"\\t"$2}\' /etc/passwd\n')])])]),a("h2",{attrs:{id:"_5-7-3-声明变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-3-声明变量"}},[t._v("#")]),t._v(" 5.7.3 声明变量")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("awk 'BEGIN{sum=0}{sum=sum+$1}END{print sum}' numbers.txt\n")])])]),a("h2",{attrs:{id:"_5-7-5-多条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-5-多条件"}},[t._v("#")]),t._v(" 5.7.5 多条件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('awk \'$2>90{print $1"\\t优秀"}$2>80{print $2"\\t良好"}\' score.txt\n')])])]),a("h2",{attrs:{id:"_5-7-5-nr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-5-nr"}},[t._v("#")]),t._v(" 5.7.5 NR")]),t._v(" "),a("ul",[a("li",[t._v("NR,表示 awk 开始执行程序后所读取的数据行数")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("awk '{print NR,$0}' file1\nawk 'NR=3{print $0}' file1\n")])])]),a("h2",{attrs:{id:"_5-7-6-ofs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-6-ofs"}},[t._v("#")]),t._v(" 5.7.6 OFS")]),t._v(" "),a("ul",[a("li",[t._v("OFS Out of Field Separator，输出字段分隔符")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('echo "i love you" | awk \'BEGIN{ FS=" ";OFS="-" }{ print $1,$2,$3}\'\n')])])]),a("h3",{attrs:{id:"_5-8-sed-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-8-sed-命令"}},[t._v("#")]),t._v(" 5.8 sed 命令")]),t._v(" "),a("ul",[a("li",[t._v("sed 是一个轻量级编辑器，主要用来对数据进行选取、替换、替换和新增操作")]),t._v(" "),a("li",[t._v("sed [选项] '[动作]' 文件名")]),t._v(" "),a("li",[t._v("所有的动作都必须用单号号括起来")]),t._v(" "),a("li",[t._v("类型类似于批量 vi 操作")])]),t._v(" "),a("p",[t._v("选项")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),a("td")])])])])}),[],!1,null,null,null);_.default=r.exports}}]);