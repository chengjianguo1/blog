(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{432:function(t,a,s){"use strict";s.r(a);var e=s(41),i=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_3-git-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-git-安装"}},[t._v("#")]),t._v(" 3. Git 安装")]),t._v(" "),s("h2",{attrs:{id:"_3-1-git-服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-git-服务器"}},[t._v("#")]),t._v(" 3.1 git 服务器")]),t._v(" "),s("h2",{attrs:{id:"_3-1-1-安装-git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-安装-git"}},[t._v("#")]),t._v(" 3.1.1 安装 git")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum install -y git\n")])])]),s("h2",{attrs:{id:"_3-1-2-创建-git-用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-创建-git-用户"}},[t._v("#")]),t._v(" 3.1.2 创建 git 用户")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("useradd git\npasswd git\n")])])]),s("h2",{attrs:{id:"_3-1-3-创建仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-创建仓库"}},[t._v("#")]),t._v(" 3.1.3 创建仓库")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("su - git\nmkdir -p ~/repos/app.git\ncd ~/repos/app.git\ngit --bare init\n")])])]),s("h2",{attrs:{id:"_3-2-git-客户端-web-服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-git-客户端-web-服务器"}},[t._v("#")]),t._v(" 3.2 git 客户端(web 服务器)")]),t._v(" "),s("h2",{attrs:{id:"_3-2-1-安装-git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-安装-git"}},[t._v("#")]),t._v(" 3.2.1 安装 git")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum install -y git\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('cd /usr/local/src\ngit clone git@192.168.20.131:/home/git/repos/app.git\ncd app\ngit config --global user.email "zhufengjiagou@126.com"\ngit config --global user.name "zhufengjiagou"\ntouch index.html\ngit add -A\ngit commit -m"init"\ngit push origin master\n')])])]),s("h3",{attrs:{id:"_3-2-2-1-生成秘钥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-1-生成秘钥"}},[t._v("#")]),t._v(" 3.2.2.1 生成秘钥")]),t._v(" "),s("ul",[s("li",[t._v("先登录 web 服务器生成秘钥并拷贝公钥")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ssh-keygen -t rsa\ncat ~/.ssh/id_rsa.pub\n")])])]),s("h3",{attrs:{id:"_3-2-2-2-拷贝公钥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-2-拷贝公钥"}},[t._v("#")]),t._v(" 3.2.2.2 拷贝公钥")]),t._v(" "),s("ul",[s("li",[t._v("再登录 git 服务器")]),t._v(" "),s("li",[t._v("要注意如果你要免登录"),s("code",[t._v("git")]),t._v("用户，就需要把自己的公钥拷贝到"),s("code",[t._v("git")]),t._v("用户的"),s("code",[t._v("authorized_keys")]),t._v("文件里")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ssh-keygen -t rsa\nchmod 700 /home/git/.ssh\nvi /home/git/.ssh/authorized_keys\nchmod 600 /home/git/.ssh/authorized_keys\n")])])]),s("h3",{attrs:{id:"_3-2-2-3-允许公钥登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-3-允许公钥登录"}},[t._v("#")]),t._v(" 3.2.2.3 允许公钥登录")]),t._v(" "),s("ul",[s("li",[t._v("再登录 git 服务器")]),t._v(" "),s("li",[t._v("vim /etc/ssh/sshd_config")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("PubkeyAuthentication yes\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl restart sshd\n")])])])])}),[],!1,null,null,null);a.default=i.exports}}]);