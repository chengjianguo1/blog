(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{453:function(a,t,s){"use strict";s.r(t);var e=s(41),_=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"_2-变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-变量"}},[a._v("#")]),a._v(" 2.变量")]),a._v(" "),s("h2",{attrs:{id:"_2-1-什么是变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-什么是变量"}},[a._v("#")]),a._v(" 2.1 什么是变量")]),a._v(" "),s("ul",[s("li",[a._v("可以变化的量")]),a._v(" "),s("li",[a._v("变量必须以字母或下划线开头，名字中间只能由字母，数字和下划线组成")]),a._v(" "),s("li",[a._v("变量名的长度不得超过 255 个字符")]),a._v(" "),s("li",[a._v("变量名在有效范围内必须唯一")]),a._v(" "),s("li",[a._v("变量默认类型都是字符串")])]),a._v(" "),s("h2",{attrs:{id:"_2-2-变量的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-变量的分类"}},[a._v("#")]),a._v(" 2.2 变量的分类")]),a._v(" "),s("ul",[s("li",[a._v("字符串")]),a._v(" "),s("li",[a._v("整型")]),a._v(" "),s("li",[a._v("浮点型")]),a._v(" "),s("li",[a._v("日期型")])]),a._v(" "),s("h2",{attrs:{id:"_2-3-用户自定义变量-1-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-用户自定义变量-1-6"}},[a._v("#")]),a._v(" 2.3 用户自定义变量 (1-6)")]),a._v(" "),s("ul",[s("li",[a._v("这些变量的值是自己定义的")]),a._v(" "),s("li",[a._v("变量名不能为数字开头")]),a._v(" "),s("li",[a._v("等号左右两边不能有空格")])]),a._v(" "),s("h2",{attrs:{id:"_2-3-1-定义变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-定义变量"}},[a._v("#")]),a._v(" 2.3.1 定义变量")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('name="zhufeng"\nage=10\n')])])]),s("h2",{attrs:{id:"_2-3-2-输出变量值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-输出变量值"}},[a._v("#")]),a._v(" 2.3.2 输出变量值")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("echo $变量名\n")])])]),s("h2",{attrs:{id:"_2-3-3-值默认都是字符串"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-值默认都是字符串"}},[a._v("#")]),a._v(" 2.3.3 值默认都是字符串")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ x=1\n$ y=2\n$ z=3\n$ z=$x+$y+$z\n$ echo $z\n")])])]),s("h2",{attrs:{id:"_2-3-4-在赋值的时候引用变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-在赋值的时候引用变量"}},[a._v("#")]),a._v(" 2.3.4 在赋值的时候引用变量")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('y="$y"2\ny=${y}2\n')])])]),s("h2",{attrs:{id:"_2-3-5-set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-5-set"}},[a._v("#")]),a._v(" 2.3.5 set")]),a._v(" "),s("ul",[s("li",[a._v("查询系统中默认所有已经生效的变量，包括系统变量,也包括自定义变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("set | grep zhufeng\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ set -u\n$ echo $a\nbash: a: unbound variable\n")])])]),s("h2",{attrs:{id:"_2-3-6-unset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-6-unset"}},[a._v("#")]),a._v(" 2.3.6 unset")]),a._v(" "),s("ul",[s("li",[a._v("删除变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("unset a\n")])])]),s("h2",{attrs:{id:"_2-4-环境变量-1-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-环境变量-1-7"}},[a._v("#")]),a._v(" 2.4 环境变量 (1-7)")]),a._v(" "),s("ul",[s("li",[a._v("环境变量是全局变量，而自定义变量是局部变量")]),a._v(" "),s("li",[a._v("自定义变量会在当前的 shell 中生效，而环境变量会在当前 shell 以及其子 shell 中生效")]),a._v(" "),s("li",[a._v("这种变量主要保存的是和系统操作环境相关的数据")]),a._v(" "),s("li",[a._v("变量可以自定义，但是对系统生效的环境变量名和变量作用是固定的")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("bash\npstree\n")])])]),s("h2",{attrs:{id:"_2-4-1-自定义环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-自定义环境变量"}},[a._v("#")]),a._v(" 2.4.1 自定义环境变量")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("export 变量名=变量值\nexport envname=prod\n")])])]),s("h2",{attrs:{id:"_2-4-2-env"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-env"}},[a._v("#")]),a._v(" 2.4.2 env")]),a._v(" "),s("ul",[s("li",[a._v("仅仅用来查看环境变量，而不看到本地变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("env\n")])])]),s("h2",{attrs:{id:"_2-4-3-常用环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-常用环境变量"}},[a._v("#")]),a._v(" 2.4.3 常用环境变量")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("变量名")]),a._v(" "),s("th",[a._v("含义")]),a._v(" "),s("th",[a._v("示例")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("HOSTNAME")]),a._v(" "),s("td",[a._v("主机名")]),a._v(" "),s("td",[a._v("HOSTNAME=localhost")])]),a._v(" "),s("tr",[s("td",[a._v("SHELL")]),a._v(" "),s("td",[a._v("当前的 shell")]),a._v(" "),s("td",[a._v("SHELL=/bin/bash")])]),a._v(" "),s("tr",[s("td",[a._v("TERM")]),a._v(" "),s("td",[a._v("终端环境")]),a._v(" "),s("td",[a._v("TERM=xterm")])]),a._v(" "),s("tr",[s("td",[a._v("HISTSIZE")]),a._v(" "),s("td",[a._v("历史命令条数")]),a._v(" "),s("td",[a._v("HISTSIZE=1000")])]),a._v(" "),s("tr",[s("td",[a._v("SSH_CLIENT")]),a._v(" "),s("td",[a._v("当前操作环境如果是用 SSH 连接的话，这里会记录客户端 IP")]),a._v(" "),s("td",[a._v("SSH_CLIENT=192.168.1.100 57596 22")])]),a._v(" "),s("tr",[s("td",[a._v("SSH_TTY")]),a._v(" "),s("td",[a._v("SSH 连接的终端")]),a._v(" "),s("td",[a._v("SSH_TTY=/dev/pts/1")])]),a._v(" "),s("tr",[s("td",[a._v("USER")]),a._v(" "),s("td",[a._v("当前登录的用户")]),a._v(" "),s("td",[a._v("USER=root")])])])]),a._v(" "),s("h2",{attrs:{id:"_2-4-4-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-4-path"}},[a._v("#")]),a._v(" 2.4.4 path")]),a._v(" "),s("ul",[s("li",[a._v("系统搜索路径")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# echo $PATH\n/usr/lib/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin\n")])])]),s("p",[a._v("如果想把一个自定义的脚本直接可以执行，或者把这个文件拷贝到目标目录下，或者把脚本所在目录添加到环境变量中的 PATH 路径中\n"),s("br")]),a._v(" "),s("p",[a._v("hello.sh")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("#!/bin/bash\necho hello\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('./hello.sh\n/root/myshell/hello.sh\nexport PATH="$PATH":/root/myshell   临时生效\nhello.sh\n')])])]),s("h2",{attrs:{id:"_2-4-5-ps1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-ps1"}},[a._v("#")]),a._v(" 2.4.5 $PS1")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# echo $PS1\n[\\u@\\h \\W]\\$\nroot@localhost myshell]#\n")])])]),s("table",[s("thead",[s("tr",[s("th",[a._v("变量")]),a._v(" "),s("th",[a._v("提示符")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("\\d")]),a._v(" "),s("td",[a._v('显示日期，格式为"星期 月 日"')])]),a._v(" "),s("tr",[s("td",[a._v("\\H")]),a._v(" "),s("td",[a._v("完整的主机名")])]),a._v(" "),s("tr",[s("td",[a._v("\\t")]),a._v(" "),s("td",[a._v('24 小时制时间,格式为 "HH:MM:SS"')])]),a._v(" "),s("tr",[s("td",[a._v("\\A")]),a._v(" "),s("td",[a._v('24 小时制时间，格式为 "HH:MM"')])]),a._v(" "),s("tr",[s("td",[a._v("\\u")]),a._v(" "),s("td",[a._v("显示当前用户名")])]),a._v(" "),s("tr",[s("td",[a._v("\\w")]),a._v(" "),s("td",[a._v("显示所在目录完整名称")])]),a._v(" "),s("tr",[s("td",[a._v("\\W")]),a._v(" "),s("td",[a._v("显示所在目录的最后一个目录")])]),a._v(" "),s("tr",[s("td",[a._v("$")]),a._v(" "),s("td",[a._v("提示符，root 为#,普通用户为$")])])])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("export PS1='[\\u@\\h \\w]\\$ '\n")])])]),s("h2",{attrs:{id:"_2-4-6-语系环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-6-语系环境变量"}},[a._v("#")]),a._v(" 2.4.6 语系环境变量")]),a._v(" "),s("ul",[s("li",[a._v("查询当前系统语系")]),a._v(" "),s("li",[a._v("在 Linux 中通过 locale 来设置程序运行的不同语言环境，locale 由 ANSI C 提供支持。locale 的命名规则为<语言>_<地区>.<字符集编码>，如 zh_CN.UTF-8，zh 代表中文，CN 代表大陆地区，UTF-8 表示字符集。")]),a._v(" "),s("li",[a._v("LANG: 定义系统主语系的变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("locale\nLANG=zh_CN.UTF-8\n\necho $LANG\n\n下次开机之后我们系统环境\ncat /etc/sysconfig/i18n\n")])])]),s("h2",{attrs:{id:"_2-4-7-中文支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-7-中文支持"}},[a._v("#")]),a._v(" 2.4.7 中文支持")]),a._v(" "),s("ul",[s("li",[a._v("图形界面可以支持中文")]),a._v(" "),s("li",[a._v("第三方工具比如 xshell 语系设置正确可以支持中文")]),a._v(" "),s("li",[a._v("虚拟机中的纯字符界面不支持中文")])]),a._v(" "),s("h2",{attrs:{id:"_2-5-位置参数变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-位置参数变量"}},[a._v("#")]),a._v(" 2.5 位置参数变量")]),a._v(" "),s("ul",[s("li",[a._v("这种变量主要是用来向脚本当中传递参数或数据的,变量名不能自定义,变量作用是固定的")])]),a._v(" "),s("p",[a._v("|位置参数变量|作用|\n|$n|n为数字，$0 代表命令本身，$1-$9 代表第 1 到第 9 个参数，10 以上的参数需要用大括号包含,如${10}|\n|$*|这个变量代表命令中所有的参数，$*把所有的变看数看成一个整体|\n|$@|这个变量也代表命令行中所有的参数，不过$@把每个参数进行区分|\n|$#|这个变量代表命令行中所有参数的个数|")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("#!/bin/bash\nnum1=$1\nnum2=$2\nsum=$((num1+num2))\necho $sum\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('#!/bin/bash\nfor i in "$@"\n do\n   echo "i=$i"\n done\n')])])]),s("h2",{attrs:{id:"_2-6-预定义变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-预定义变量"}},[a._v("#")]),a._v(" 2.6 预定义变量")]),a._v(" "),s("ul",[s("li",[a._v("是脚本中已经定义好的变量，变量名不能自定义，变量作用也是固定的")])]),a._v(" "),s("p",[a._v("|位置参数变量|作用|\n|$?|最后一次执行的命令的返回状态。0表示正确执行，非0表示不正确执行|\n|$$|当前进程的进程号(PID)|\n|$!|后台运行的最后一个进程号(PID)|")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("ls && echo yes\n")])])]),s("h2",{attrs:{id:"_2-7-read"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-read"}},[a._v("#")]),a._v(" 2.7 read")]),a._v(" "),s("p",[a._v("read [选项][变量名]")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("选项")]),a._v(" "),s("th",[a._v("含义")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("-p")]),a._v(" "),s("td",[a._v("提示信息，在等待 read 输入时，输出提示信息")])]),a._v(" "),s("tr",[s("td",[a._v("-t")]),a._v(" "),s("td",[a._v("秒数: read 命令会一直等待用户输入，使用此选项可以指定等待时间")])]),a._v(" "),s("tr",[s("td",[a._v("-n")]),a._v(" "),s("td",[a._v("字符数，read 命令只接受指定的字符数，就会执行")])]),a._v(" "),s("tr",[s("td",[a._v("-s")]),a._v(" "),s("td",[a._v("隐藏输入的数据，适用于机密信息的输入")])])])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("#!/bin/bash\nread -p 'please input your name:' -t 5 name\necho -e \"\\n\"\nread -p 'please input you gender[m/f]:' -n 1 gender\necho -e \"\\n\"\nread -p 'please input your password:' -s password\necho -e \"\\n\"\necho $name,$gender,$password\n")])])])])}),[],!1,null,null,null);t.default=_.exports}}]);